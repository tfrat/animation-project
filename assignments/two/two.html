<html>
<head>
	<title>Assignment Two: Dynamics</title>
	<style>
	body { margin: 0; }
	canvas { width: 100%; height: 100% }
	</style>
</head>
<body>
	<input type="file" id="fileLoader" style="display:none;" />
	<script src="../../js/three.min.js"></script>
	<script src="../../js/animator.js"></script>
	<script>
	var scene = new THREE.Scene();
	var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

	var keyframe = null;
	var currentFrame = null;

	var renderer = new THREE.WebGLRenderer();
	renderer.setSize( window.innerWidth, window.innerHeight );

	// Add the WebGL canvas to browser's window
	var canvas = renderer.domElement
	document.body.appendChild( canvas );

	window.addEventListener( 'resize', onWindowResize, false );
	// Update the canvas and camera when the browser window size is modified
	function onWindowResize(){
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize( window.innerWidth, window.innerHeight );
	}

	// white spotlight shining from the side, casting shadow
	var spotLight = new THREE.SpotLight( 0xffffff );
	spotLight.position.set( 100, 1000, 100 );

	spotLight.castShadow = true;

	spotLight.shadowMapWidth = 1024;
	spotLight.shadowMapHeight = 1024;

	spotLight.shadowCameraNear = 500;
	spotLight.shadowCameraFar = 4000;
	spotLight.shadowCameraFov = 30;

	scene.add( spotLight );

	var light = new THREE.AmbientLight( 0x404040 ); // soft white light
	scene.add( light );

	// Generate the scene
	var geometry = new THREE.SphereGeometry( 5, 32, 32 );
	var material = new THREE.MeshLambertMaterial( { color: 0x00aaaa } );
	var sphere = new THREE.Mesh( geometry, material );
	scene.add( sphere );

	// Initialize the camera position
	camera.position.z = 10;
	camera.position.y = 0;
	camera.position.x = 0;

	var animation = function (t) {
			sphere.rotation.y = (THREE.Math.degToRad(t * 18))
	}

	animate(scene, renderer, 20, animation)

	</script>
</body>
</html>
